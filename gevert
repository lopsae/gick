#!/bin/bash

# Reverts a file in the working tree to its head state.

fileFound=`gick $@`

if [ $? -ne 0 ]; then
	echo 'No file found'
	exit 1
fi

# Generating a path to backup the file
backupPath="/tmp/geverts/"
if [ ! -d $backupPath ]; then
	mkdir -p $backupPath
fi

# Creating a time stamp for the file
# year, month, day, hour, minute, second
timeStamp=`date +"%Y%m%d_%H%M%S"`
basenameFile=`basename $fileFound`
backupFile="${backupPath}${timeStamp}_${basenameFile}"


cp $fileFound $backupFile

echo revert \'$fileFound\'
echo backup in \'$backupFile\'

git checkout HEAD $fileFound

